-- import: fastn/processors as pr








-- component header:
optional ftd.image-src site-logo:
string site-url: /
optional string site-name:
pr.toc-item list sections:
pr.toc-item list sub-sections:
pr.toc-item list toc:
ftd.image-src menu-icon: $assets.files.static.hamburger.svg
optional pr.toc-item current-section:
optional pr.toc-item current-subsection:
optional pr.toc-item current-page:
optional string login-btn-txt:
optional string login-btn-url:
boolean login-button: false
integer logo-width: 120
integer logo-height: 44
boolean $sidebar-open: false
boolean github-icon: false
optional string github-url:
boolean blog: false
boolean breadcrumb: true

-- ds.section-column:
inner-background.solid: $inherited.colors.background.base
inset: $ds.spaces.inset-wide.small
border: $ds.borders.bottom.small
margin: $ds.spaces.vertical-gap.zero
radius: $ds.radius.zero
align-content: left
;;shadow: $ds.shadow.medium

	-- ds.row:
	spacing: $ds.spaces.horizontal-gap.extra-large
	inset: $ds.spaces.inset-tall.zero-small
	
		-- ds.row:
		width: hug-content
		link: $header.site-url
		align-content: left
		
			-- ftd.image:
			src: $assets.files.assets.spellcraft.svg
			width.fixed.px: 154
			height.fixed.px: 32
			
			-- ds.heading-small: $header.site-name
			if: { header.site-name != NULL }
			
		-- end: ds.row

		-- ds.row:
		align-content: left
		spacing: $ds.spaces.horizontal-gap.medium
		
			-- header-item: $obj.title
			$loop$: $header.sections as $obj
			link: $obj.url
			is-active: $obj.is-active
			
		-- end: ds.row

		-- ds.row:
		spacing: $ds.spaces.horizontal-gap.small
		align-content: right
		
			-- ds.text-input:
			radius: curved
			size: small
			
			-- ds.primary-button: Get Started
			link: /
			
		-- end: ds.row

	-- end: ds.row

-- end: ds.section-column

-- end: header









-- component header-item:
caption title:
optional ftd.image-src icon:
optional string link:
boolean is-active:
boolean $open: false

-- ds.row:
width: hug-content
spacing: $ds.spaces.horizontal-gap.medium

	-- ds.copy-regular: $header-item.title
	if: { !header-item.is-active }
	link if { header-item.link != NULL }: $header-item.link
	
	-- ds.copy-regular: $header-item.title
	if: { header-item.is-active }
	link if { header-item.link != NULL }: $header-item.link
	color: $inherited.colors.text-strong
	style: bold
	
-- end: ds.row

-- end: header-item










-- component subsections-links:
caption title:
optional boolean is-active:
optional string url:
pr.toc-item list item:

-- ftd.column:

	-- ftd.text: $subsections-links.title
	if: { !subsections-links.is-active }
	role: $inherited.types.copy-regular
	link if { subsections-links.url != NULL }: $subsections-links.url
	white-space: nowrap
	color: $inherited.colors.text
	
	-- ftd.text: $subsections-links.title
	if: { subsections-links.is-active }
	role: $inherited.types.copy-regular
	white-space: nowrap
	link if { subsections-links.url != NULL }: $subsections-links.url
	color: $inherited.colors.text-strong
	style: bold
	
-- end: ftd.column

-- end: subsections-links










-- component header-mobile:
ftd.image-src menu-icon:
boolean $sidebar-open: false
optional ftd.image-src site-logo:
string site-url:
boolean $show-section: false
optional string site-name:
pr.toc-item list sections:
pr.toc-item list sub-sections:
pr.toc-item list toc:
optional pr.toc-item current-subsection:
optional pr.toc-item current-section:
optional pr.toc-item current-page:
integer logo-width: 120
integer logo-height: 38
boolean github-icon: false
optional string github-url:
boolean blog: false
boolean breadcrumb: false

-- ftd.column:
width: fill-container
background.solid: $inherited.colors.background.step-1
$on-click-outside$: $ftd.set-bool($a = $header-mobile.show-section, v = false)

	-- ftd.row:
	padding-horizontal.px: 16
	padding-vertical.px: 16
	width: fill-container
	align-content: center
	
		-- ftd.column:
		
		-- ftd.row:
		width: fill-container
		spacing.fixed.px: 16
		
			-- ftd.image:
			src: $header-mobile.menu-icon
			width.fixed.px: 24
			align-self: center
			$on-click$: $ftd.toggle($a = $header-mobile.sidebar-open)
			
			-- ftd.column:
			if: { header-mobile.site-logo != NULL }
			height.fixed.px: 38
			
				-- ftd.image:
				src: $header-mobile.site-logo
				height.fixed.px: 44
				
			-- end: ftd.column

			-- ftd.text: $header-mobile.site-name
			if: { header-mobile.site-name != NULL }
			role: $inherited.types.copy-large
			color: $inherited.colors.text-strong
			white-space: nowrap
			align-self: center
			
			-- fallback-title:
			if: { header-mobile.site-logo == NULL }
			site-name: $header-mobile.site-name
			
		-- end: ftd.row

	-- end: ftd.row

	-- ftd.row:
	width: fill-container
	background.solid: $inherited.colors.background.step-1
	
	-- ftd.row:
	width: fill-container
	
		-- ftd.row:
		align-self: start
		
			-- ftd.text: $header-mobile.current-section.title
			if: { header-mobile.current-section != NULL }
			role: $inherited.types.label-large
			color: $inherited.colors.cta-tertiary.text
			link: $header-mobile.current-section.url
			background.solid: $inherited.colors.cta-tertiary.base
			padding-vertical.px: 8
			padding-horizontal.px: 8
			width: fill-container
			white-space: nowrap
			
		-- end: ftd.row

		-- ftd.row:
		width: fill-container
		spacing.fixed.px: 8
		padding-top.px: 8
		overflow-x: auto
		
			-- header-item-mobile-view: $obj.title
			$loop$: $header-mobile.sub-sections as $obj
			children: $obj.children
			is-active: $obj.is-active
			link: $obj.url
			
		-- end: ftd.row

	-- end: ftd.row

	-- ftd.row:
	if: { !ftd.is_empty($header-mobile.toc) }
	width: fill-container
	background.solid: $inherited.colors.background.step-2
	padding-horizontal.px: 20
	$on-click$: $ftd.toggle($a = $header-mobile.show-section, v = true)
	
		-- ftd.row:
		width: fill-container
		padding-vertical.px: 16
		spacing.fixed.px: 6
		
			-- ftd.text: $header-mobile.current-subsection.title
			if: { header-mobile.current-subsection != NULL }
			role: $inherited.types.label-large
			color: $inherited.colors.text-strong
			white-space: nowrap
			
			-- ftd.text: Menu
			if: { header-mobile.current-subsection == NULL && header-mobile.current-page == NULL }
			role: $inherited.types.label-small
			color: $inherited.colors.text-strong
			white-space: nowrap
			
			-- ftd.row:
			if: { header-mobile.current-subsection != NULL }
			
				-- ftd.row:
				if: { header-mobile.current-page != NULL }
				
					-- ftd.text: ->
					role: $inherited.types.label-large
					color: $inherited.colors.text-strong
					white-space: nowrap
					
				-- end: ftd.row

			-- end: ftd.row

			-- ftd.text: $header-mobile.current-page.title
			if: { header-mobile.current-page != NULL }
			role: $inherited.types.label-large
			color: $inherited.colors.text-strong
			white-space: nowrap
			
		-- end: ftd.row

		-- ftd.row:
		align-self: end
		height: fill-container
		
			-- ftd.row:
			align-self: center
			width: fill-container
			
				-- ftd.image:
				if: { !header-mobile.show-section }
				src: $assets.files.static.down-arrow-dark.svg
				height: hug-content
				width.fixed.px: 12
				
				-- ftd.image:
				if: { header-mobile.show-section }
				src: $assets.files.static.up-arrow-dark.svg
				width.fixed.px: 12
				
			-- end: ftd.row

		-- end: ftd.row

		-- ftd.column:
		if: { header-mobile.show-section }
		width: fill-container
		anchor: parent
		background.solid: $inherited.colors.background.step-2
		top.px: 48
		left.px: 0
		z-index: 999
		max-height.fixed.px: 300
		overflow-y: auto
		
			-- ftd.column:
			width: fill-container
			spacing.fixed.px: 8
			padding-vertical.px: 12
			padding-horizontal.px: 24
			overflow-x: auto
			
				-- header-toc-item-mobile-view: $obj.title
				$loop$: $header-mobile.toc as $obj
				children: $obj.children
				is-active: $obj.is-active
				link: $obj.url
				
			-- end: ftd.column

		-- end: ftd.column

	-- end: ftd.row

-- end: ftd.column

-- end: header-mobile










-- component header-toc-item-mobile-view:
caption title:
optional string link:
pr.toc-item list children:
optional ftd.image-src icon:
boolean is-active:
boolean $open: false

-- ftd.column:
$on-click$: $ftd.toggle($a = $header-toc-item-mobile-view.open)
$on-click-outside$: $ftd.set-bool($a = $header-toc-item-mobile-view.open, v = false)

	-- ftd.text: $header-toc-item-mobile-view.title
	link if { header-toc-item-mobile-view.link != NULL }: $header-toc-item-mobile-view.link
	role: $inherited.types.copy-small
	white-space: nowrap
	padding-left.px: 10
	color: $inherited.colors.text
	color if { header-toc-item-mobile-view.is-active }: $inherited.colors.cta-primary.base
	
	-- show-children-mobile:
	if: { !ftd.is_empty(header-toc-item-mobile-view.children) }
	children: $header-toc-item-mobile-view.children
	
-- end: ftd.column

-- end: header-toc-item-mobile-view










-- component show-children-mobile:
pr.toc-item list children:

-- ftd.column:
if: { !ftd.is_empty(show-children-mobile.children) }
padding.px: 5
padding-left.px: 15

	-- links-mobile:
	obj: $obj
	$loop$: $show-children-mobile.children as $obj
	
-- end: ftd.column

-- end: show-children-mobile










-- component links-mobile:
pr.toc-item obj:

-- ftd.column:
width: fill-container

	-- ftd.text: $links-mobile.obj.title
	link if { links-mobile.obj.url != NULL }: $links-mobile.obj.url
	color: $inherited.colors.text
	padding-vertical.px: 8
	padding-horizontal.px: 10
	role: $inherited.types.copy-small
	width: fill-container
	opacity if { !links-mobile.obj.is-active }: 0.6
	
-- end: ftd.column

-- end: links-mobile










-- component mobile-sidebar:
boolean $sidebar-open:

-- ftd.column:
anchor: window
top.px: 0
bottom.px: 0
left.px: 0
right.px: 0
background.solid: $inherited.colors.background.overlay
z-index: 1
$on-click$: $ftd.toggle($a = $mobile-sidebar.sidebar-open)

	-- ftd.image:
	src: $assets.files.static.cross.svg
	height.fixed.px: 24
	width: hug-content
	anchor: window
	right.px: 16
	top.px: 20
	
-- end: ftd.column

-- end: mobile-sidebar










-- component menu-mobile:
optional ftd.image-src site-logo:
optional string site-name:
ftd.image-src menu-icon:
string site-url:
pr.toc-item list sections:
boolean $show-section: false
pr.toc-item list sub-sections:
integer logo-width: 120
integer logo-height: 44
boolean github-icon:
optional string github-url:

-- ftd.column:
width.fixed.calc: 100% - 48px
height.fixed.calc: 100vh - 0px
anchor: window
left.px: 0
top.px: 0
overflow-y: auto
padding-top.px: 20
padding-horizontal.px: 24
background.solid: $inherited.colors.background.step-1
z-index: 14

	-- ftd.column:
	if: { !ftd.is_empty(menu-mobile.sections) }
	width: fill-container
	padding-bottom.px: 24
	
		-- header-item-mobile: $obj.title
		$loop$: $menu-mobile.sections as $obj
		children: $obj.children
		is-active: $obj.is-active
		link: $obj.url
		$show-section: $menu-mobile.show-section
		
	-- end: ftd.column

	-- ftd.column:
	if: { menu-mobile.github-icon }
	
		-- github-button:
		github-url: $menu-mobile.github-url
		
	-- end: ftd.column

-- end: ftd.column

-- end: menu-mobile










-- component header-item-mobile-view:
caption title:
optional string link:
pr.toc-item list children:
boolean is-active:
boolean $open: false

-- ftd.column:
$on-click$: $ftd.toggle($a = $header-item-mobile-view.open)
$on-click-outside$: $ftd.set-bool($a = $header-item-mobile-view.open, v = false)

	-- ftd.text: $header-item-mobile-view.title
	if: { $header-item-mobile-view.title != NULL }
	role: $inherited.types.fine-print
	link: $header-item-mobile-view.link
	white-space: nowrap
	padding-left.px: 10
	color: $inherited.colors.text-strong
	color if { header-item-mobile-view.is-active }: $inherited.colors.cta-primary.base
	margin-left.px: 10
	
-- end: ftd.column

-- end: header-item-mobile-view










-- component header-item-mobile:
caption title:
optional string link:
pr.toc-item list children:
boolean is-active:
boolean $show-section:
boolean $open: false

-- ftd.column:
width: fill-container
align-self: start
$on-click$: $ftd.toggle($a = $header-item-mobile.open)
$on-click-outside$: $ftd.set-bool($a = $header-item-mobile.open, v = false)

	-- ftd.row:
	width: fill-container
	
		-- ftd.text: $header-item-mobile.title
		role: $inherited.types.copy-regular
		link: $header-item-mobile.link
		color: $inherited.colors.text-strong
		color if { header-item-mobile.is-active }: $inherited.colors.cta-primary.base
		$on-click$: $ftd.set-bool($a = $header-item-mobile.show-section, v = true)
		padding-top.px: 24
		
		-- ftd.column:
		if: { ftd.is_empty(header-item-mobile.children) }
		padding-bottom.px: 15
		
			-- show-children-mobile:
			if: { !ftd.is_empty(header-item-mobile.children) }
			children: $header-item-mobile.children
			
		-- end: ftd.column

	-- end: ftd.row

-- end: ftd.column

-- end: header-item-mobile










-- component github-button:
string github-url:
ftd.image-src icon-github: $assets.files.static.icon-github.svg

-- ftd.column:

	-- ftd.desktop:
	
		-- ftd.image:
		src: $github-button.icon-github
		height.fixed.px: 22
		link: $github-button.github-url
		margin-left.px: 10
		align-self: center
		
	-- end: ftd.desktop

	-- ftd.mobile:
	
		-- ftd.image:
		src: $github-button.icon-github
		height.fixed.px: 22
		link: $github-button.github-url
		
	-- end: ftd.mobile

-- end: ftd.column

-- end: github-button
